{"version":3,"sources":["webpack:///./src/views/User.vue?653a","webpack:///./src/components/UserProfileCard.vue?50df","webpack:///src/components/UserProfileCard.vue","webpack:///./src/components/UserProfileCard.vue?4e56","webpack:///./src/components/UserProfileCard.vue","webpack:///./src/components/UserFollowingCard.vue?1401","webpack:///src/components/UserFollowingCard.vue","webpack:///./src/components/UserFollowingCard.vue?6cc2","webpack:///./src/components/UserFollowingCard.vue","webpack:///./src/components/UserFollowersCard.vue?98a2","webpack:///src/components/UserFollowersCard.vue","webpack:///./src/components/UserFollowersCard.vue?35dd","webpack:///./src/components/UserFollowersCard.vue","webpack:///./src/components/UserCommentCard.vue?c509","webpack:///src/components/UserCommentCard.vue","webpack:///./src/components/UserCommentCard.vue?24c4","webpack:///./src/components/UserCommentCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?7335","webpack:///src/components/UserFavoritedRestaurantsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?042f","webpack:///./src/components/UserFavoritedRestaurantsCard.vue","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","user","isFollowed","currentUser","followings","followers","comments","favoriteRestaurants","staticRenderFns","_f","image","_v","_s","name","email","commentLength","favoritedLength","followingLength","id","params","on","$event","stopPropagation","preventDefault","addFollow","removeFollow","props","type","required","initialIsFollowed","data","mixins","methods","userId","usersAPI","statusText","console","Toast","icon","title","watch","newValue","followersLength","component","length","_l","following","key","follower","comment","Restaurant","restaurant","Favorite","RestaurantId","components","UserProfileCard","UserFollowingCard","UserFollowersCard","UserCommentCard","UserFavoritedRestaurantsCard","computed","mapState","fetchData","Comments","FavoritedRestaurants","Followers","Followings","created","beforeRouteUpdate","to","from","next"],"mappings":"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","file":"js/chunk-2d0ab43a.5b457cc7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"album py-5 bg-light\"},[_c('div',{staticClass:\"container\"},[_c('UserProfileCard',{attrs:{\"user\":_vm.user,\"initial-is-followed\":_vm.isFollowed,\"currentUser\":_vm.currentUser}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('UserFollowingCard',{attrs:{\"followings\":_vm.followings}}),_c('br'),_c('UserFollowersCard',{attrs:{\"followers\":_vm.followers}})],1),_c('div',{staticClass:\"col-md-8\"},[_c('UserCommentCard',{attrs:{\"comments\":_vm.comments}}),_c('br'),_c('UserFavoritedRestaurantsCard',{attrs:{\"favoriteRestaurants\":_vm.favoriteRestaurants}})],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-4\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.user.image),\"width\":\"300px\",\"height\":\"300px\"}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(\" \"+_vm._s(_vm.user.email)+\" \")]),_c('ul',{staticClass:\"list-unstyled list-inline\"},[_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.commentLength))]),_vm._v(\" 已評論餐廳\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.favoritedLength))]),_vm._v(\" 收藏的餐廳\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.followingLength))]),_vm._v(\" followings (追蹤者)\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.followers))]),_vm._v(\" followers (追隨者)\")])]),_c('p',[(_vm.currentUser.id === _vm.user.id)?_c('router-link',{attrs:{\"to\":{name: 'user-edit', params: {id: _vm.user.id}}}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" edit \")])]):[(_vm.isFollowed === false)?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollow(_vm.user.id)}}},[_vm._v(\" 追蹤 \")]):_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.removeFollow(_vm.user.id)}}},[_vm._v(\" 取消追蹤 \")])]],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card mb-3\">\r\n    <div class=\"row no-gutters\">\r\n      <div class=\"col-md-4\">\r\n          <img :src=\"user.image | emptyImage\" width=\"300px\" height=\"300px\">\r\n      </div>\r\n      <div class=\"col-md-8\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">{{user.name}}</h5>\r\n          <p class=\"card-text\">\r\n            {{user.email}}\r\n          </p>\r\n          <ul class=\"list-unstyled list-inline\">\r\n            <li><strong>{{user.commentLength}}</strong> 已評論餐廳</li>\r\n            <li><strong>{{user.favoritedLength}}</strong> 收藏的餐廳</li>\r\n            <li><strong>{{user.followingLength}}</strong> followings (追蹤者)</li>\r\n            <li><strong>{{followers}}</strong> followers (追隨者)</li>\r\n          </ul>\r\n          <p>\r\n              <router-link :to=\"{name: 'user-edit', params: {id: user.id}}\" v-if=\"currentUser.id === user.id\">\r\n                <button type=\"submit\" class=\"btn btn-primary\">\r\n                  edit\r\n                </button>\r\n              </router-link>\r\n              <template v-else>\r\n                <button type=\"submit\" class=\"btn btn-primary\" \r\n                v-if=\"isFollowed === false\" \r\n                @click.stop.prevent=\"addFollow(user.id)\">\r\n                  追蹤\r\n                </button>\r\n                <button type=\"submit\" class=\"btn btn-danger\" \r\n                v-else @click.stop.prevent=\"removeFollow(user.id)\">\r\n                  取消追蹤\r\n                </button>\r\n              </template>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from '../utils/mixins'\r\nimport usersAPI from '../apis/users'\r\nimport { Toast } from '../utils/helpers'\r\n\r\nexport default {\r\n  name: 'UserProfileCard',\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    initialIsFollowed: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    currentUser: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isFollowed: this.initialIsFollowed,\r\n      followers: this.user.followersLength\r\n    }\r\n  },\r\n  mixins: [emptyImageFilter],\r\n  methods: {\r\n    async addFollow (userId) {\r\n      try {\r\n        const { data, statusText } = await usersAPI.followUser(userId)\r\n\r\n        if( data.status !== 'success' || statusText !== 'OK') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        this.isFollowed = true\r\n        this.followers += 1\r\n\r\n      } catch (error) {\r\n        console.log('error', error)\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法追蹤用戶，請稍後再試'\r\n        })\r\n      }\r\n      \r\n    },\r\n     async removeFollow (userId) {\r\n      try {\r\n        const { data, statusText } = await usersAPI.unfollowUser(userId)\r\n\r\n        if( data.status !== 'success' || statusText !== 'OK') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        this.isFollowed = false\r\n        this.followers -= 1\r\n\r\n      } catch (error) {\r\n        console.log('error', error)\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取消追蹤用戶，請稍後再試'\r\n        })\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    initialIsFollowed ( newValue ){\r\n      this.isFollowed = newValue\r\n    },\r\n    user (newValue) {\r\n      this.followers = newValue.followersLength\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=fb7be632&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followings.length))]),_vm._v(\" followings (追蹤者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followings),function(following){return _c('router-link',{key:following.id,attrs:{\"to\":{ name: 'user', params: {id: following.id}}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(following.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        <strong>{{followings.length}}</strong> followings (追蹤者)\r\n      </div>\r\n      <div class=\"card-body\">\r\n          <router-link :to=\"{ name: 'user', params: {id: following.id}}\" v-for=\"following in followings\" :key=\"following.id\">\r\n              <img :src=\"following.image | emptyImage\" width=\"60\" height=\"60\" class=\"avatar\">\r\n          </router-link>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  name: 'UserFollowingCard',\r\n  props: {\r\n    followings: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  mixins: [ emptyImageFilter ]\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowingCard.vue?vue&type=template&id=6f50e5af&\"\nimport script from \"./UserFollowingCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowingCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followers.length))]),_vm._v(\" followers (追隨者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followers),function(follower){return _c('router-link',{key:follower.id,attrs:{\"to\":{name: 'user', params: { id: follower.id}}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(follower.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        <strong>{{followers.length}}</strong> followers (追隨者)\r\n      </div>\r\n      <div class=\"card-body\">\r\n          <router-link :to=\"{name: 'user', params: { id: follower.id}}\" v-for=\"follower in followers\" :key=\"follower.id\">\r\n              <img :src=\"follower.image | emptyImage\" width=\"60\" height=\"60\" class=\"avatar\">\r\n          </router-link>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  name: 'UserFollowersCard',\r\n  props: {\r\n    followers: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  mixins: [ emptyImageFilter ]\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowersCard.vue?vue&type=template&id=6cd73789&\"\nimport script from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.comments.length))]),_vm._v(\" 已評論餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.comments),function(comment){return _c('router-link',{key:comment.id,attrs:{\"to\":{name: 'restaurant', params: {id: comment.Restaurant.id}}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(comment.Restaurant.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        <strong>{{comments.length}}</strong> 已評論餐廳\r\n      </div>\r\n      <div class=\"card-body\">\r\n          <router-link :to=\"{name: 'restaurant', params: {id: comment.Restaurant.id}}\" v-for=\"comment in comments\" :key=\"comment.id\">\r\n            <img :src=\"comment.Restaurant.image | emptyImage\" width=\"60\" height=\"60\" class=\"avatar\">\r\n          </router-link>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  name: 'UserCommentCard',\r\n  props: {\r\n    comments: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  mixins: [ emptyImageFilter ]\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCommentCard.vue?vue&type=template&id=0b5f4258&\"\nimport script from \"./UserCommentCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCommentCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.favoriteRestaurants.length))]),_vm._v(\" 收藏的餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.favoriteRestaurants),function(restaurant){return _c('router-link',{key:restaurant.id,attrs:{\"to\":{name: 'restaurant', params: {id: restaurant.Favorite.RestaurantId}}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(restaurant.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        <strong>{{favoriteRestaurants.length}}</strong> 收藏的餐廳\r\n      </div>\r\n      <div class=\"card-body\">\r\n          <router-link :to=\"{name: 'restaurant', params: {id: restaurant.Favorite.RestaurantId}}\" v-for=\"restaurant in favoriteRestaurants\" :key=\"restaurant.id\">\r\n            <img :src=\"restaurant.image | emptyImage\" width=\"60\" height=\"60\" class=\"avatar\">\r\n          </router-link>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  name: 'UserFavoritedRestaurantsCard',\r\n  props: {\r\n    favoriteRestaurants: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  mixins: [ emptyImageFilter ]\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFavoritedRestaurantsCard.vue?vue&type=template&id=618718bd&\"\nimport script from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"album py-5 bg-light\">\r\n    <div class=\"container\">\r\n      <UserProfileCard :user=\"user\" :initial-is-followed=\"isFollowed\" :currentUser=\"currentUser\"/>     \r\n      <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n          <UserFollowingCard :followings=\"followings\"/>\r\n          <br>\r\n          <UserFollowersCard :followers=\"followers\"/>\r\n        </div>\r\n        <div class=\"col-md-8\">\r\n          <UserCommentCard :comments=\"comments\"/>\r\n          <br>\r\n          <UserFavoritedRestaurantsCard :favoriteRestaurants=\"favoriteRestaurants\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport UserProfileCard from '../components/UserProfileCard.vue'\r\nimport UserFollowingCard from '../components/UserFollowingCard.vue'\r\nimport UserFollowersCard from '../components/UserFollowersCard.vue'\r\nimport UserCommentCard from '../components/UserCommentCard.vue'\r\nimport UserFavoritedRestaurantsCard from '../components/UserFavoritedRestaurantsCard.vue'\r\nimport usersAPI from '../apis/users'\r\nimport { Toast } from '../utils/helpers'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'User',\r\n  components: {\r\n    UserProfileCard,\r\n    UserFollowingCard,\r\n    UserFollowersCard,\r\n    UserCommentCard,\r\n    UserFavoritedRestaurantsCard,\r\n  },\r\n  data () {\r\n    return {\r\n      user: {\r\n        id: -1,\r\n        name: '',\r\n        image: '',\r\n        email: '',\r\n        commentLength: 0,\r\n        favoritedLength: 0,\r\n        followingLength: 0,\r\n        followersLength: 0,\r\n      },\r\n      followings: [],\r\n      followers: [],\r\n      comments: [],\r\n      favoriteRestaurants: [],\r\n      isFollowed: false,\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState( [ 'currentUser' ])\r\n  },\r\n  methods: {\r\n    async fetchData (userId) {\r\n      try {\r\n        const { data, statusText } = await usersAPI.getUser({ id: userId })\r\n\r\n        console.log(data)\r\n        \r\n        if (statusText !== 'OK'){\r\n          throw new Error(statusText)\r\n        }\r\n\r\n        const {id, name, email, image, Comments, FavoritedRestaurants, Followers, Followings} = data.profile\r\n      this.user = {\r\n        ...this.user,\r\n        id,\r\n        name,\r\n        image,\r\n        email,\r\n        commentLength: Comments.length,\r\n        favoritedLength: FavoritedRestaurants.length,\r\n        followingLength: Followings.length,\r\n        followersLength: Followers.length,\r\n      },\r\n      this.followings = Followings\r\n      this.followers = Followers\r\n      this.comments = Comments\r\n      this.favoriteRestaurants = FavoritedRestaurants\r\n      this.isFollowed = data.isFollowed\r\n\r\n      } catch (error) {\r\n        console.log('error', error)\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取得使用者資料，請稍後再試'\r\n        })\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    const { id } = this.$route.params\r\n    this.fetchData (id)\r\n  },\r\n  beforeRouteUpdate (to, from, next) {\r\n    const { id } = to.params\r\n    this.fetchData(id)\r\n    next()\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=43831fb9&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}